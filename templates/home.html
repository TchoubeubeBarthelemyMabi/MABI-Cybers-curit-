{% extends 'base.html' %}
{% block content %}
<div class="text-background text-center mx-auto" style="max-width: 800px;">

  <h2 class="fw-bold mb-3" style="font-size: 2rem;">
    Bienvenue sur MABI-Cybersécurité
  </h2>

  <p class="lead mb-4" style="font-size: 1.1rem;">
    Protégez vos liens et sites web des menaces avec notre outil simple et fiable.<br>
    Votre sécurité est notre priorité.
  </p>

  <!-- Formulaire Vérification lien -->
  <form method="POST" onsubmit="showLoader()" class="row g-2 justify-content-center mb-3">
    <div class="col-12 col-md-8">
      <input type="text" name="url" placeholder="https://example.com"
             class="form-control form-control-lg" required>
    </div>
    <div class="col-12 col-md-auto">
      <button type="submit" class="btn btn-primary btn-lg w-100">
        Vérifier ce lien
      </button>
    </div>
  </form>

  <!-- Loader animation -->
  <div id="loader" class="mx-auto" style="display:none; width:40px; height:40px;
       border:6px solid #f3f3f3; border-top:6px solid #2196F3;
       border-radius:50%; animation:spin 1s linear infinite;">
  </div>

  {% if result %}
    <p class="result {{ result.status }} mt-3 fs-5 fw-semibold">
      {{ result.message|safe }}
    </p>
  {% endif %}
</div>

<script>
  function showLoader() {
    document.getElementById('loader').style.display = 'block';
  }
</script>

<style>
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
.result.danger { color: red; }
.result.safe { color: green; }
.result.waiting { color: orange; }
.result.error { color: darkred; }
</style>
{% endblock %}
